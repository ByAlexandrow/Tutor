{% extends "base.html" %}
{% load static %}
{% block title %}Репетитор по русскому языку онлайн{% endblock %}
{% block content %}
<!-- Hero -->
<section class="hero">
    <div class="container">
        <div class="hero-content">
            <h1 class="hero-title">Отработанная <span>стратегия</span> изучения русского языка</h1>
            <p class="hero-subtitle">
                Я, Надежда Александрова, репетитор по русскому языку и литературе, кандидат филологических наук.
                Помогаю своим ученикам досигать высоких результатов на экзаменах с помощью персональной программы обучения,
                чётких алгоритмов и логики!
            </p>
            <div class="hero-buttons">
                <a href="#contact" class="btn btn-primary" id="heroRegisterBtn">
                    <i class="fas fa-heart"></i> Записаться на урок
                </a>
                <a href="{% url 'blog:posts' %}" class="btn btn-secondary">
                    <i class="fas fa-book"></i> Читать блог
                </a>
            </div>
        </div>
        <div class="hero-image">
            <div class="image-container">
                <img src="https://img.freepik.com/premium-photo/young-woman-blue-dress-standing-road_1048944-6947985.jpg?semt=ais_hybrid&w=740&q=80" 
                     alt="Надежда Александрова - репетитор по русскому языку" 
                     class="teacher-photo">
                <div class="image-decoration"></div>
            </div>
        </div>
    </div>
</section>

<!-- Promo блок -->
<section class="promo">
    <div class="container">
        <div class="promo-content">
            <div class="promo-text">
                <h2 class="promo-title">Индивидуальные и групповые занятия</h2>
                <div class="features-grid">
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="feature-content">
                            <h4>Продолжительность 60 минут</h4>
                        </div>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-laptop"></i>
                        </div>
                        <div class="feature-content">
                            <h4>Онлайн<br> формат</h4>
                        </div>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="feature-content">
                            <h4>Чёткая методология</h4>
                        </div>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-chart-bar"></i>
                        </div>
                        <div class="feature-content">
                            <h4>Регулярные<br> срезы</h4>
                        </div>
                    </div>
                </div>
                <div class="pricing-info">
                    <p class="pricing-text">
                        <strong>Стоимость индивидуального занятия:</strong> 3000 руб.
                    </p>
                    <p class="pricing-text">
                        <strong>Стоимость занятия в группе до 5 человек:</strong> 1500 руб.
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- About -->
<section id="about">
    <div class="container about">
        <div class="about-content">
            <h2 class="about-title">Обо мне</h2>
            <p class="about-text">
                <i class="fas fa-check-circle" style="color: #28a745;"></i> Кандидат филологических наук, преподаватель высшей категории.<br>
                <i class="fas fa-check-circle" style="color: #28a745;"></i> Авторская методика подготовки к ОГЭ и ЕГЭ, ориентированная на понимание, а не на зубрежку.<br>
                <i class="fas fa-check-circle" style="color: #28a745;"></i> Опыт репетиторства более 25 лет.<br>
                <i class="fas fa-check-circle" style="color: #28a745;"></i> Даю реальные экзаменационные задания, что заложит прочный фундамент для высоких баллов на ОГЭ/ЕГЭ.<br>
                <i class="fas fa-check-circle" style="color: #28a745;"></i> Учу писать сочинения и изложения, которые оцениваются на максимальный балл.
            </p>
            <div class="about-stats">
                <div class="stat">
                    <div class="stat-number">25+</div>
                    <div class="stat-label">Лет опыта</div>
                </div>
                <div class="stat">
                    <div class="stat-number">60+</div>
                    <div class="stat-label">Положительных отзывов на <a href="">Profi.ru</a></div>
                </div>
                <div class="stat">
                    <div class="stat-number">100%</div>
                    <div class="stat-label">Индивидуальный подход</div>
                </div>
            </div>
        </div>
        <!-- Слайдер с фотографиями -->
        <div class="about-slider">
            <div class="slider-container">
                <div class="slider-track">
                    <!-- Слайд 1 -->
                    <div class="slider-slide active">
                        <div class="slide-image">
                            <img src="https://a.d-cd.net/3fe8024s-960.jpg" alt="Учебные материалы">
                        </div>
                        <div class="slide-caption">Учебные материалы</div>
                    </div>
                    <!-- Слайд 2 -->
                    <div class="slider-slide">
                        <div class="slide-image">
                            <img src="https://avatars.mds.yandex.net/get-mpic/1600461/img_id3779799019472045573.jpeg/orig" alt="Рабочий процесс">
                        </div>
                        <div class="slide-caption">Рабочий процесс</div>
                    </div>
                    <!-- Слайд 3 -->
                    <div class="slider-slide">
                        <div class="slide-image">
                            <img src="https://i.ytimg.com/vi/VO5IgDzKea4/maxresdefault.jpg" alt="Книги и учебники">
                        </div>
                        <div class="slide-caption">Книги и учебники</div>
                    </div>
                    <!-- Слайд 4 -->
                    <div class="slider-slide">
                        <div class="slide-image">
                            <img src="https://avatars.mds.yandex.net/get-autoru-vos/2092621/583190e781adc2070592958f57e71bdc/1200x900" alt="Обучение онлайн">
                        </div>
                        <div class="slide-caption">Обучение онлайн</div>
                    </div>
                    <!-- Слайд 5 -->
                    <div class="slider-slide">
                        <div class="slide-image">
                            <img src="https://avatars.mds.yandex.net/get-autoru-vos/1907787/2bb85775b443486b5fef49e5b8546906/1200x900" alt="Индивидуальный подход">
                        </div>
                        <div class="slide-caption">Индивидуальный подход</div>
                    </div>
                </div>
                <!-- Навигация слайдера -->
                <div class="slider-nav">
                    <button class="slider-prev">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <button class="slider-next">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Blog Preview -->
<section id="blog">
    <div class="container">
        {% if last_post %}
        <div class="blog-preview">
            <h2 class="blog-preview-title">{{ last_post.title }}</h2>
            <div class="blog-meta">
                <span class="blog-date">{{ last_post.date|date:"d F Y" }}</span>
                {% if last_post.tag %}
                <span class="blog-category">{{ last_post.tag.title }}</span>
                {% endif %}
            </div>
            <div class="blog-preview-content">
                {% if last_post.excerpt %}
                    {{ last_post.excerpt|safe }}
                {% else %}
                    {{ last_post.content|striptags|truncatechars:500|safe }}
                {% endif %}
                {% if last_post.img %}
                <img src="{{ last_post.img.url }}" 
                     alt="{{ last_post.title }}" 
                     style="width: 100%; max-height: 300px; object-fit: cover; border-radius: var(--radius); margin: 25px 0;">
                {% else %}
                <img src="https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" 
                     alt="{{ last_post.title }}" 
                     style="width: 100%; max-height: 300px; object-fit: cover; border-radius: var(--radius); margin: 25px 0;">
                {% endif %}
                <p style="font-style: italic; color: var(--text-light); margin-top: 20px;">
                    ...продолжение в <a href="{% url 'blog:post' last_post.slug %}"><i>полной версии статьи<i></a>
                </p>
            </div>
            <div class="blog-preview-footer">
                <div class="blog-author">
                    <div class="author-avatar">{{ last_post.author|first|upper }}</div>
                    <div class="author-info">
                        <h4>{{ last_post.author }}</h4>
                        <p>Автор статьи</p>
                    </div>
                </div>
                <a href="{% url 'blog:posts' %}" class="btn btn-primary">
                    <i class="fas fa-book-open"></i> Перейти в блог
                </a>
            </div>
        </div>
        {% else %}
        <!-- Заглушка если постов нет -->
        <div class="blog-preview">
            <div class="blog-meta">
                <span class="blog-date">Скоро</span>
                <span class="blog-category">Блог</span>
            </div>
            <h2 class="blog-preview-title">Скоро здесь появится первая статья</h2>
            <div class="blog-preview-content">
                <p>Я готовлю для вас интересные материалы о русском языке, методиках преподавания и истории языка. Первая статья появится здесь в ближайшее время!</p>
                <img src="https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" 
                     alt="Скоро новые статьи" 
                     style="width: 100%; max-height: 300px; object-fit: cover; border-radius: var(--radius); margin: 25px 0;">
                <p>А пока вы можете познакомиться с моими методиками преподавания или записаться на пробный урок.</p>
            </div>
            <div class="blog-preview-footer">
                <div class="blog-author">
                    <div class="author-avatar">Н</div>
                    <div class="author-info">
                        <h4>Надежда Александрова</h4>
                        <p>Репетитор русского языка</p>
                    </div>
                </div>
                <a href="{% url 'blog:posts' %}" class="btn btn-primary">
                    <i class="fas fa-book"></i> Перейти в блог
                </a>
            </div>
        </div>
        {% endif %}
    </div>
</section>

<!-- Reviews -->
<section class="section" id="reviews">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">Отзывы учеников</h2>
            <p class="section-subtitle">Истории тех, кто уже открыл для себя русский язык в новой атмосфере</p>
        </div>
        
        <div class="reviews-grid">
            <div class="review-card">
                <div class="review-header">
                    <div class="review-avatar">ЕК</div>
                    <div class="review-info">
                        <h4>Екатерина К.</h4>
                        <p>Франция, 28 лет</p>
                    </div>
                </div>
                <div class="review-stars">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                </div>
                <p class="review-text">
                    "После переезда в Москву боялась, что никогда не выучу русский. Анна создала такую тёплую атмосферу, 
                    что страх ушёл после первого же занятия. Теперь могу свободно общаться с коллегами и даже шутить на русском!"
                </p>
            </div>
            
            <div class="review-card">
                <div class="review-header">
                    <div class="review-avatar">МЛ</div>
                    <div class="review-info">
                        <h4>Марк Л.</h4>
                        <p>Германия, 32 года</p>
                    </div>
                </div>
                <div class="review-stars">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                </div>
                <p class="review-text">
                    "Искал репетитора для бизнес-русского. Анна не только подготовила специальную программу, 
                    но и помогла понять культурные особенности общения. Занятия проходят за чашкой чая и всегда 
                    вдохновляют на новые успехи."
                </p>
            </div>
            
            <div class="review-card">
                <div class="review-header">
                    <div class="review-avatar">СВ</div>
                    <div class="review-info">
                        <h4>София В.</h4>
                        <p>Россия, 17 лет</p>
                    </div>
                </div>
                <div class="review-stars">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                </div>
                <p class="review-text">
                    "Готовилась к ЕГЭ и думала, что это будет скучно и сложно. Но Анна превратила подготовку 
                    в увлекательное путешествие. Сдала на 96 баллов и теперь сама влюблена в русский язык!"
                </p>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script>
    // Smooth scrolling for anchor links with header offset
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            const targetId = this.getAttribute('href');
            if (targetId === '#') return;
            
            const targetElement = document.querySelector(targetId);
            if (targetElement) {
                e.preventDefault();
                
                // Получаем высоту фиксированного заголовка
                const headerHeight = 80;
                
                // Расчёт позиции с учётом заголовка
                const elementPosition = targetElement.getBoundingClientRect().top;
                const offsetPosition = elementPosition + window.pageYOffset - headerHeight;
                
                // Плавная прокрутка
                window.scrollTo({
                    top: offsetPosition,
                    behavior: 'smooth'
                });
                
                // Добавляем класс для визуального выделения блока
                targetElement.style.transition = 'all 0.3s ease';
                targetElement.style.backgroundColor = 'rgba(232, 240, 254, 0.3)';
                
                // Убираем подсветку через 1 секунду
                setTimeout(() => {
                    targetElement.style.backgroundColor = '';
                }, 1000);
            }
        });
    });
    
    // Initialize blog preview with current date
    document.addEventListener('DOMContentLoaded', function() {
        const blogDateElement = document.querySelector('.blog-date');
        if (blogDateElement) {
            const now = new Date();
            const options = { day: 'numeric', month: 'long', year: 'numeric' };
            const formattedDate = now.toLocaleDateString('ru-RU', options);
            blogDateElement.textContent = formattedDate;
        }
    });
</script>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const sliderTrack = document.querySelector('.slider-track');
    const slides = document.querySelectorAll('.slider-slide');
    const dots = document.querySelectorAll('.dot');
    const prevBtn = document.querySelector('.slider-prev');
    const nextBtn = document.querySelector('.slider-next');
    
    let currentSlide = 0;
    let slideInterval;
    let isAnimating = false;
    
    // Инициализация слайдера
    function initSlider() {
        // Устанавливаем начальное состояние
        slides.forEach((slide, index) => {
            if (index === currentSlide) {
                slide.classList.add('active');
            } else {
                slide.classList.remove('active');
            }
        });
        
        updateSlider();
        startAutoSlide();
    }
    
    // Обновление отображения слайдера
    function updateSlider() {
        // Перемещаем трек с плавной анимацией
        sliderTrack.style.transform = `translateX(-${currentSlide * 100}%)`;
        
        // Обновляем активные классы с задержкой для плавности
        if (!isAnimating) {
            isAnimating = true;
            
            slides.forEach((slide, index) => {
                slide.classList.toggle('active', index === currentSlide);
            });
            
            // Обновляем точки
            dots.forEach((dot, index) => {
                dot.classList.toggle('active', index === currentSlide);
            });
            
            // Сбрасываем флаг анимации через 500мс
            setTimeout(() => {
                isAnimating = false;
            }, 500);
        }
    }
    
    // Переход к следующему слайду
    function nextSlide() {
        if (isAnimating) return;
        
        currentSlide = (currentSlide + 1) % slides.length;
        updateSlider();
    }
    
    // Переход к предыдущему слайду
    function prevSlide() {
        if (isAnimating) return;
        
        currentSlide = (currentSlide - 1 + slides.length) % slides.length;
        updateSlider();
    }
    
    // Автоматическое переключение
    function startAutoSlide() {
        slideInterval = setInterval(() => {
            if (!isAnimating) {
                nextSlide();
            }
        }, 5000);
    }
    
    function stopAutoSlide() {
        clearInterval(slideInterval);
    }
    
    // Обработчики событий
    nextBtn.addEventListener('click', function() {
        if (isAnimating) return;
        
        stopAutoSlide();
        nextSlide();
        startAutoSlide();
    });
    
    prevBtn.addEventListener('click', function() {
        if (isAnimating) return;
        
        stopAutoSlide();
        prevSlide();
        startAutoSlide();
    });
    
    // Клики по точкам
    dots.forEach(dot => {
        dot.addEventListener('click', function() {
            if (isAnimating) return;
            
            stopAutoSlide();
            const slideIndex = parseInt(this.getAttribute('data-slide'));
            
            if (slideIndex !== currentSlide) {
                currentSlide = slideIndex;
                updateSlider();
            }
            
            startAutoSlide();
        });
    });
    
    // Остановка автопрокрутки при наведении
    const slider = document.querySelector('.slider-container');
    slider.addEventListener('mouseenter', stopAutoSlide);
    slider.addEventListener('mouseleave', startAutoSlide);
    
    // Инициализация
    initSlider();
});
</script>
{% endblock %}